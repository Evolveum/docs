---
permalink: /404.html
layout: home
title: "Page Not Found"
nav_exclude: true
search_exclude: true
collection: none
visibility: hidden
---

<main class="error-container">
  <h1>Page not found</h1>
  <p>Sorry, we couldnâ€™t find the page you were looking for.</p>
  <p>It may have been moved, renamed, or deleted.</p>
  <p>Please try one of the following options:</p>

  <ul class="links">
    <li><a href="/" class="primary-link">Go to homepage</a></li>
    <li><a href="#" id="focus-search" onclick="$('#searchToggle').trigger('click'); return false;">Search the site</a></li>
    <li id="go-back-item"><a href="#" id="go-back">Go back</a></li>
  </ul>
</main>

{%- include page-eval.html -%}

<script>
  // Go back if appropriate
  const backItem = document.getElementById('go-back-item');
  const backLink = document.getElementById('go-back');

  const referrer = document.referrer;
  const hasHistory = window.history.length > 1;
  const isLocalhost = location.hostname === "localhost" || location.hostname === "127.0.0.1";
  const allowedReferrer = referrer && referrer.startsWith("https://docs.evolveum.com");

  // Show Go back only if history > 1 AND (localhost OR allowedReferrer)
  if (hasHistory && (isLocalhost || allowedReferrer)) {
    backLink.addEventListener('click', (e) => {
      e.preventDefault();
      window.history.back();
    });
  } else {
    backItem.style.display = 'none';
  }
</script>
