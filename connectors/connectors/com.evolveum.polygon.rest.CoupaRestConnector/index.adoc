---
layout: connector-page
display-order: 500
functionality-status: experimental
development-status: unknown
support-status: unknown
origin: AMI Praha
support-provided-by: community
target-systems: Coupa Cloud Platform
connector-protocol: REST
source-url-master: https://github.com/Evolveum/connector-smartrecruiters
description: Identity connector for Coupa Cloud Platform.
upkeep-status: yellow
---
= Coupa Connector
:page-wiki-name: Coupa Connector
:page-wiki-id: 24674799
:page-wiki-metadata-create-user: oskar.butovic@ami.cz
:page-wiki-metadata-create-date: 2017-07-18T16:50:23.781+02:00
:page-wiki-metadata-modify-user: semancik
:page-wiki-metadata-modify-date: 2019-07-09T14:33:52.289+02:00

Coupa Connector for midPoint is based on Evolveum's REST connector template.

== Status

Coupa Connector is intended for production use.
The connector was introduced as a contribution to midPoint project by https://www.ami.cz/en/[AMI Praha] and is not officially supported by Evolveum.

Coupa Connector contains support for USER and ROLE.
The current focus is on USER entity.


== Overview

Coupa procurement software as a service.
This connector uses the Coupa's REST API to add, modify and disable user accounts and assign roles.


More information on Coupa can be found https://www.coupa.com/[here].

== Supported operations

* Test

* Schema (static)

for USER entity:

* Search

** By login

** By id


* Create

* Update

* Delete (as disable)

for ROLE entity:

* Search

** By name

** By id


== Supported attributes

for USER entity:

* id

* login

* active

* purchasing-user

* authentication-method

* sso-identifier

* email

* firstname

* lastname

* roles

* default-locale

* default-address

for ROLE entity:

* id

* name

* description

* omnipotent

* system-role


== Configuration

[%autowidth]
|===
| Configuration Property | Required | Type | Default Value | Description | Value example

| Test user login
| X
| String
|
| Login of test user for test connection method.
| `mailto:username@domain.com`

| Token name
| X
| String
|
| Name of the token attribute in REST request
| X-COUPA-API-KEY

| Service address
| X
| String
|
| hostname of coupa REST api endpoint
| ++https://company.coupahost.com/api++

| Token value
| X
| String
|
| security token allowing to connect to coupa
| (random string generated by coupa)


| Default page size
|
| String
| 10
| Size of the default response page when requesting objects from coupa (max 50 recommended 10)
| 10


| Delete role assignments
|
| Boolean
|
| flag whether to delete all assignments when assigning new roles to the user.
(default true, false allows only adding new assignments)
| true

|===


== Getting started


=== Building the connector

link:https://github.com/Evolveum/connector-coupa[Download] and build the project with usual:


[source]
----
mvn clean install
----

Import connector JAR file to one of these locations:

* midPoint WEB-INF/lib

* the application server (e.g. Tomcat) lib directory

* the icf-connectors directory in midPoint home

Restart midPoint

=== Creating resource

* Click new resource in resource sub menu of midpoint administration GUI

* Set correct connector and some descriptive name

* fill configuration attributes as described higher in the Configuration section


=== Configuring resource

. Obtain coupa api token from coupa

. Obtain username of one user which will be searched during test connection operation

. Set all other attributes according to examples


== See Also

* https://coupadocs.atlassian.net/wiki/display/integrate/Coupa+API[Coupa API]