= Deprecated items
:page-since: 4.8
:page-toc: top

Following table lists deprecated elements and types that currently exist in midPoint XSD schemas.
Table data from upgrade fields will be used as input for xref:/midpoint/devel/design/upgrade-process-4.8/design.adoc[upgrade process].

.Deprecated items
[%header,cols=12]
|===
| File
| Element owner
| Element name
| Element type
| Planned removal
| Notes
| Responsible
| Schema change identifier
| Upgrade phase
| Upgrade type
| Upgrade priority
| Analysis done (Prepared for implementation. Yes/No)

| capabilities-3.xsd
| CapabilityCollectionType
| addRemoveAttributeValues
| AddRemoveAttributeValuesCapabilityType
|
| Removed.

Deprecated in 4.0 by https://github.com/Evolveum/midpoint/commit/fab755d8[fab755d8].
Removed in 4.8 by https://github.com/Evolveum/midpoint/commit/8038b70f[8038b70f].

The element was replaced by `addRemoveAttributeValues` property of `update` capability.

Migration:

For configured capabilities, the `update` capability has to be modified according to the `addRemoveAttributeValues` content.

For native capabilities, the situation is most probably OK (as the old-style capability stopped to be produced in 4.0), but for sure, one should refresh the capabilities.
Or, the migration tool can do the same operation as for configured capabilities.

| Pavol
|
| Before upgrade
| Automatic if implemented.
| Critical
| Analyzed and removed from the schema. Done.

| common-case-management-3.xsd
| CaseType
| taskRef
| tns:ObjectReferenceType
|
| Removed (not used anymore).

This item was used to bind approval cases and their execution tasks.
It was maintained by midPoint only, never set manually.
It is no longer used.
So, it was now simply dropped from the schema, without any replacement.

Introduced in 4.0.
Marked as deprecated in 4.0.3/4.1.
See https://github.com/Evolveum/midpoint/commit/e1b6fb81c18dec045605cc2a511c6d8e47f9cb33[e1b6fb81].
Removed in 4.8 by https://github.com/Evolveum/midpoint/commit/861b6d9a[861b6d9a].

Any data in that item can be safely discarded.
| Pavol
|
| N/A
| Automatic.
| N/A
| Analyzed and removed from the schema. Done.

| common-core-3.xsd
| OtherPrivilegesLimitationType
| approvalWorkItems
| c:WorkItemSelectorType
|
| #TODO resolve#

Used to limit delegated privileges related to approval work items.
In both 4.4 and 4.7, it is incorrectly used in the code:
Although only `caseManagementWorkItems` should be used, both `caseManagementWorkItems` and `approvalWorkItems` are used by mistake.
This needs to be resolved somehow.

Introduced in 3.6.
Marked as deprecated in 4.0 by https://github.com/Evolveum/midpoint/commit/6326a7cbb6014835680e6c01c599c28810cb0c88[6326a7cb].
| Pavol
|
| #To be analyzed.#
| #To be analyzed.#
| #To be analyzed.#
|

| common-core-3.xsd
| ReportDataType
| data
| xsd:string
|
| Full data of the report.

Still needed, so I un-deprecated it.
| Pavol
|
| N/A
| N/A
| N/A
|

| common-core-3.xsd
|
| defaultAssignmentConstraints
| tns:AssignmentConstraintsType
| 4.8
| It was deprecated with new request access UI. #Is this still needed?# There's currently no replacement for this?
| Vilo
|
|
|
|
|

| common-core-3.xsd
|
| defaultCollection
| tns:ObjectCollectionUseType
| 4.8
| Configuration was moved to adminGuiConfiguration/accessRequest/roleCatalog. Eg. `systemConfiguration/roleManagement/defaultCollection/collectionUri` ->
`systemConfiguration/adminGuiConfiguration/accessRequest/roleCatalog/collection/identifier`
| Vilo
|
|
|
|
|

| common-core-3.xsd
| CleanupPoliciesType
| objectResults
| tns:CleanupPolicyType
|
| Removed.

Deprecated in 4.3 by https://github.com/Evolveum/midpoint/commit/26044356[26044356].
Removed in 4.8 by https://github.com/Evolveum/midpoint/commit/df9d41d4[df9d41d4].

The value of `objectResults` served as a default for both `simpleOperationExecutions` and `complexOperationExecutions`.
See https://github.com/Evolveum/midpoint/blob/master/repo/repo-common/src/main/java/com/evolveum/midpoint/repo/common/util/OperationExecutionWriter.java#L289-L304[the code].

Automatic migration algorithm:

Take the value.
If `simpleOperationExecutions` is not specified, set it to the value.
If `complexOperationExecutions` is not specified, set it to the value.
| Pavol
|
| Before upgrade
| Automatic if implemented.
| Not critical.

If not done, the information will disappear and system-wide default value of keeping 5 records is applied.
See https://github.com/Evolveum/midpoint/blob/master/repo/repo-common/src/main/java/com/evolveum/midpoint/repo/common/util/OperationExecutionWriter.java#L325-L334[the code].
| Yes

| common-core-3.xsd
|
| oidBound
| xsd:boolean
|
| This property was introduced in 2014 by https://github.com/Evolveum/midpoint/commit/2d71af12[2d71af12].
It was marked as deprecated in that very commit.
The discussion with Radovan revealed that this is just a workaround for not knowing focus OID when mappings are evaluated.
(For new objects, i.e. `ADD` operations.)
The serious solution would be to generate OID before the operation, so that it could be used in the mappings.

See bug:MID-8867[].
#Will we do this in 4.8?#
| Pavol
|
| N/A
| N/A
| N/A
| Probably will not be removed now.

| common-core-3.xsd
| ArchetypePolicyType
| propertyConstraint
| tns:ItemConstraintType
|
| Removed.

Deprecated in 4.1 by https://github.com/Evolveum/midpoint/commit/940c62e6[940c62e6].
Removed in 4.8 by https://github.com/Evolveum/midpoint/commit/551ab3fd[551ab3fd].

Automatic migration algorithm:

Take all values of `propertyConstraint` and add them to (multivalued) `itemConstraint`.
| Pavol
|
| Before upgrade
| Automatic if implemented.
| May be critical.
If not done, that part of configuration will disappear.
|

| common-core-3.xsd
| ModelExecuteOptionsType
| reconcileAffected
| xsd:boolean
|
| Removed (not used anymore).

Deprecated in 4.2 by https://github.com/Evolveum/midpoint/commit/9c6a5ba5[9c6a5ba5].
Removed in 4.8 by https://github.com/Evolveum/midpoint/commit/5e83b64e[5e83b64e].

The functionality controlled by this option was removed somewhere between 4.2 and 4.4.
(It is not present in 4.4 for sure.)
Hence, the option can be safely removed from the schema.

| Pavol
|
| N/A
| Automatic.
| N/A
| Analyzed and removed from the schema. Done.

| common-core-3.xsd
|
| roleCatalogCollections
| tns:ObjectCollectionsUseType
| 4.8
| Configuration was moved to adminGuiConfiguration/accessRequest/roleCatalog
| Kate
|
|
|
|
|

| common-core-3.xsd
|
| roleCatalogRef
| c:ObjectReferenceType
| 4.8
| Configuration was moved to adminGuiConfiguration/accessRequest/roleCatalog
| Kate
|
|
|
|
|

| common-core-3.xsd
|
| subtype
| xsd:string
|
| #TODO#
| Vilo
|
|
|
|
|

| common-core-3.xsd
| PersonaConstructionType
| targetSubtype
| xsd:string
|
| Removed.

Deprecated in 4.4 by https://github.com/Evolveum/midpoint/commit/f423dc30[f423dc30].
Removed in 4.8 by https://github.com/Evolveum/midpoint/commit/9e02d004[9e02d004].

Matching of personas by `subtype` values is not supported anymore.
Any such use should be migrated to the use of archetypes.
An example of doing this (for tests) is presented in https://github.com/Evolveum/midpoint/commit/9e02d004[9e02d004].
| Pavol
|
| Before upgrade
| Manual
| Critical (if the feature is used)
| Analyzed and removed from the schema. Done.

| common-correlation-3.xsd
| IdMatchCorrelatorType
| followOn
| tns:CompositeCorrelatorType
|
| Removed.

Introduced in 4.5 by https://github.com/Evolveum/midpoint/commit/107d6bbe[107d6bbe].
Deprecated in 4.6 by https://github.com/Evolveum/midpoint/commit/eb3e8dbb[eb3e8dbb].
Removed in 4.8 by https://github.com/Evolveum/midpoint/commit/df69d0cb[df69d0cb].

Related to ID Match correlator.
Instead of `followOn` item, the `referenceIdProperty` should be used.
An example of doing this (for a test) is presented in https://github.com/Evolveum/midpoint/commit/df69d0cb[df69d0cb].
| Pavol
|
| Before upgrade
| Manual
| Critical (if ID Match correlator is used)
| Analyzed and removed from the schema. Done.

| common-gui-3.xsd
|
| additionalPanels
| tns:GuiObjectListViewAdditionalPanelsType
|
| 4.8 - copying between classes, 4.4 - used only for member panel additionalPanels.memberPanel and we can use ContainerPanelConfigurationType.listView instead
| Lukas
| ContainerPanelConfigurationType.listView
|
| should be removed from the schema
|
|

| common-gui-3.xsd
|
| container
| tns:VirtualContainersSpecificationType
|
| use panel.container instead
| Lukas
| panel.container
|
| should be removed from the schema
|
|

| common-gui-3.xsd
|
| defaultObjectType
| xsd:QName
|
| #TODO#
| Kate
|
|
|
|
|

| common-gui-3.xsd
|
| defaultScope
| tns:SearchBoxScopeType
|
| #TODO#
| Kate
|
|
|
|
|

| common-gui-3.xsd
|
| displayName
| t:PolyStringType
|
| Located in SearchItemType. #Probably display/label should be used?#
| Kate
|
|
|
|
|

| common-gui-3.xsd
|
| forms
| tns:ObjectFormType
|
| Just remove this? XML update probably needed (admin gui configuration objects), copying between classes
| Lukas
|
|
| should be removed from the schema
|
|

| common-gui-3.xsd
|
| name
| xsd:string
| 4.8
| Used in GuiActionType, probably identifier should be used.
| Lukas
| identifier
|
| should be removed from the schema
|
|

| common-gui-3.xsd
|
| objectForms
| tns:ObjectFormsType
| 4.8
| This has to be moved to  objectDetails/objectDetailsPage/forms.
Located in AdminGuiConfigurationType, meaning AbstractRoleType and SystemConfigurationType has to be updated if necessary. used only for copying between classes.
| Lukas
| used configuration for panels
|
| should be removed from the schema
|
|

| common-gui-3.xsd
|
| userDashboard
| tns:DashboardLayoutType
| 4.8
| Use homePage configuration instead. #Can this be translated 1:1?#
| Kate
|
|
|
|
|

| common-gui-3.xsd
|
| userDashboardLink
| tns:RichHyperlinkType
| 4.8
| Use homePage instead. #Can this be translated 1:1?#
| Kate
|
|
|
|
|

| common-model-context-3.xsd
| LensProjectionContextType
| accountPasswordPolicy
| c:ValuePolicyType
|
| Removed (not used anymore).

Deprecated in 4.0 by https://github.com/Evolveum/midpoint/commit/c1088e0a[c1088e0a].
Removed in 4.8 by https://github.com/Evolveum/midpoint/commit/1adf09dc[1adf09dc].

This property was maintained by midPoint and is not used for a long time.
It can be safely dropped from the schema.
| Pavol
|
| N/A
| Automatic.
| N/A
| Analyzed and removed from the schema. Done.

| common-model-context-3.xsd
|
| accountPasswordPolicyRef
| c:ObjectReferenceType
|
| Removed (not used anymore).

Deprecated in 4.0 by https://github.com/Evolveum/midpoint/commit/c1088e0a[c1088e0a].
Removed in 4.8 by https://github.com/Evolveum/midpoint/commit/1adf09dc[1adf09dc].

This property was maintained by midPoint and is not used for a long time.
It can be safely dropped from the schema.
| Pavol
|
| N/A
| Automatic.
| N/A
| Analyzed and removed from the schema. Done.

| common-notifications-3.xsd
|
| FileConfigurationType
|
| 4.7
| MessageTransportConfigurationType/file should be used.
| Tony
|
|
|
|
|

| common-notifications-3.xsd
|
| LegacyCustomTransportConfigurationType
|
| 4.7
| #TODO#
| Tony
|
|
|
|
|

| common-notifications-3.xsd
|
| MailConfigurationType
|
| 4.7
| MessageTransportConfigurationType/mail should be used.
| Tony
|
|
|
|
|

| common-notifications-3.xsd
|
| NotificationTransportConfigurationType
|
| 4.7
| Use new messageTransportConfiguration instead.
| Tony
|
|
|
|
|

| common-notifications-3.xsd
|
| SmsConfigurationType
|
| 4.7
| MessageTransportConfigurationType/sms should be used.
| Tony
|
|
|
|
|

| common-notifications-3.xsd
|
| customTransport
| tns:LegacyCustomTransportConfigurationType
| 4.7
| MessageTransportConfigurationType/customTransport should be used.
| Tony
|
|
|
|
|

| common-notifications-3.xsd
|
| sms
| tns:SmsConfigurationType
| 4.7
| MessageTransportConfigurationType/sms should be used.
| Tony
|
|
|
|
|

| common-provisioning-3.xsd
|
| LegacySynchronizationReactionType
|
|
| This one is located in `resource/synchronization/reaction`. Synchronization moved to _objectType_, e.g. SynchronizationReactionType.
| Pavol
|
|
|
|
|

| common-provisioning-3.xsd
|
| ObjectSynchronizationType
|
|
| Use definitions in schemaHandling/objectType (ResourceObjectTypeDefinitionType) instead.
| Pavol
|
|
|
|
|

| common-provisioning-3.xsd
|
| auxiliaryObjectClass
| xsd:QName
|
| Moved to delineation
| Pavol
|
|
|
|
|

| common-provisioning-3.xsd
|
| baseContext
| tns:ResourceObjectReferenceType
|
| Moved to delineation
| Pavol
|
|
|
|
|

| common-provisioning-3.xsd
|
| objectSynchronization
| tns:ObjectSynchronizationType
|
|
| Pavol
|
|
|
|
|

| common-provisioning-3.xsd
|
| searchHierarchyScope
| tns:SearchHierarchyScopeType
|
|
| Pavol
|
|
|
|
|

| common-security-3.xsd
|
| name
| xsd:string
|
| Use identifier instead.

The element of the AbstractAuthenticationModuleType.
The code was reviewed, all usages of this element were removed.

4.4 -> 4.8 : AbstractAuthenticationModuleType.identifier element should be added. The value of the name attribute is to be copied to the identifier. Then name can be removed.

4.7 -> 4.8 : In case name value exists but identifier doesn't, the same steps as for 4.4. If both values exist, just remove name value (starting from 4.7 identifier appeared and was used with a higher priority than name).
If no of these 2 elements values present, it's considered to be a wrong configuration. Identifier element is set to be mandatory.

code cleanup commit c36ef0f0
| Kate
|
| old mp version running (described steps should be produced)
| should be removed from schema
|
|

| common-security-3.xsd
|
| name
| xsd:string
|
| Use identifier instead.

The element of the AuthenticationSequenceType.
The code was reviewed, all usages of this element were removed.

4.4 -> 4.8 : AuthenticationSequenceType.identifier element should be added. The value of the name attribute is to be copied to the identifier. Then name can be removed.

4.7 -> 4.8 : In case name value exists but identifier doesn't, the same steps as for 4.4. If both values exist, just remove name value (starting from 4.7 identifier appeared and was used with a higher priority than name).
If no of these 2 elements values present, it's considered to be a wrong configuration. Identifier element is set to be mandatory.

code cleanup commit 8a888a0a
| Kate
|
| old mp version running (described steps should be produced)
| should be removed from schema
|
|

| common-security-3.xsd
|
| name
| xsd:string
|
| Use identifier instead.
| Kate
|
|
|
|
|

| common-security-3.xsd
|
| name
| xsd:string
| 4.8
| Use identifier instead.
| Kate
|
|
|
|
|

| common-tasks-3.xsd
|
| PureCompositeWorkStateType
|
|
|
| Pavol
|
|
|
|
|

| common-tasks-3.xsd
|
| boundaryCharacters
| xsd:string
|
|
| Pavol
|
|
|
|
|

| common-tasks-3.xsd
|
| category
| xsd:string
|
|
| Pavol
|
|
|
|
|

| common-tasks-3.xsd
| TaskType
| errorHandlingStrategy
| tns:ActivityErrorHandlingStrategyType
|
| Removed.

Introduced in 4.3 by https://github.com/Evolveum/midpoint/commit/ab4ba1b7[ab4ba1b7] as experimental feature.
Deprecated in 4.4 by https://github.com/Evolveum/midpoint/commit/c2a17184[c2a17184].
Removed in 4.8 by https://github.com/Evolveum/midpoint/commit/c0508aaf[c0508aaf].

This feature was superseded by the activity definition format, which is the only one to be used in 4.8 and beyond.
| Pavol
|
| Before upgrade
| Automatic (#TODO check the XSLT convertor if it does it correctly#).
| #Critical?#
| Analyzed and removed from the schema. Done.

| common-tasks-3.xsd
|
| executionMode
| tns:ExecutionModeType
|
|
| Pavol
|
|
|
|
|

| common-tasks-3.xsd
|
| expectedTotal
| xsd:long
|
|
| Pavol
|
|
|
|
|

| common-tasks-3.xsd
|
| interval
| xsd:int
|
|
| Pavol
|
|
|
|
|

| common-tasks-3.xsd
|
| modelOperationContext
| tns:LensContextType
|
|
| Pavol
|
|
|
|
|

| common-tasks-3.xsd
|
| nonIterativeChangeExecution
| tns:ExplicitChangeExecutionWorkDefinitionType
|
|
| Pavol
|
|
|
|
|

| common-tasks-3.xsd
|
| policyRule
| tns:PolicyRuleType
|
|
| Pavol
|
|
|
|
|

| common-tasks-3.xsd
|
| recurrence
| tns:TaskRecurrenceType
|
|
| Pavol
|
|
|
|
|

| common-workflows-3.xsd
|
| ApprovalStageExecutionRecordType
|
|
|
| Pavol
|
|
|
|
|

| common-workflows-3.xsd
|
| text
| xsd:string
|
|
| Pavol
|
|
|
|
|

| common-workflows-3.xsd
|
| title
| xsd:string
|
|
| Pavol
|
|
|
|
|

| common-workflows-3.xsd
| WfConfigurationType
| useLegacyApproversSpecification
| tns:LegacyApproversSpecificationUsageType
| 4.8
| Removed (not used anymore).

Legacy approvers specification were removed back in 4.0.

The `useLegacyApproversSpecification` was removed in 4.8 by https://github.com/Evolveum/midpoint/commit/f1fcfce0[f1fcfce0].

There is nothing to migrate, it can be safely removed from the configuration.
| Pavol
|
| N/A
| Automatic.
| N/A
| Analyzed and removed from the schema. Done.

| extension-3.xsd
| task extension
| liveSyncErrorHandlingStrategy
| c:ActivityErrorHandlingStrategyType
|
| Removed.

Introduced in 4.3 by https://github.com/Evolveum/midpoint/commit/7af6125a[7af6125a] as experimental feature.
Deprecated in 4.3 by https://github.com/Evolveum/midpoint/commit/ab4ba1b7[ab4ba1b7].
Removed in 4.8 by https://github.com/Evolveum/midpoint/commit/c0508aaf[c0508aaf].

This feature was superseded by the activity definition format, which is the only one to be used in 4.8 and beyond.
| Pavol
|
| Before upgrade
| Automatic (#TODO check the XSLT convertor if it does it correctly#).
| #Critical?#
| Analyzed and removed from the schema. Done.

| extension-3.xsd
|
| reportOutputOid
| xsd:string
| 4.3
| Still used at least in archetype for report task.
| Lukas
| reportDataParam.oid
|
| should be removed from schema
|
|
|===
