= Design
:page-since: 4.8
:page-toc: top

WARNING: This page is a work in progress.

== Upgrade steps

. Check if midPoint is running. Stop if it is.
. Verify objects in repository
. Initial objects
.. *TODO:* How to update existing ones
. Upgrade DB schema
. Update midpoint.home
. Update binaries

== Problems

. Should administrator stop all tasks before upgrade?
. How can upgrade tool upload objects (with recompute) if we're only on repo layer?
. How to wrap up upgrade after new version was started
.. What if upgrade process needs to recompute something?

== Tech stack

* Spring shell or plain jcommander lib?
* Spring batch?
** Is this necessary? Multithreading
