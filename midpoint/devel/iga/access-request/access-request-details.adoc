= Access Request Process Details
:page-nav-title: Process Details
:page-display-order: 100
:sectnums:
:sectnumlevels: 3

WARNING: This page is a stub, it is a work in progress.

== The access request lifecycle

This chapter describes the access request process by listing its actors, displaying the process schema, and describing each stage of the process and each step that can be performed. The process is designed to handle exceptions manually by IGA administrator.

The process description and schema are simplified to be easily adopted by people. Complexity of exceptions in approvals and implementation is hidden.

Following actors are active in the process:

* *Requestor* - the person, who created the request for role assignment/removal/modification,
* *Requestee* - the person for whom the request is created,
* *Approver* - approves or rejects the requests,
* *IGA administrator* - troubleshoots failed requests.

.Schema of the Access request process
image::iga-schemas-access-request.png[]

.Stages of the access request process
[options="header", cols="10,30,10,30"]
|===
|Stage
|Description
|Action needed by
|Note

|Approval
|Approval process the request is running. The request is waiting for one or more approvers.
|Approver
|--

|Rejected
|Final stage - the request was rejected by one approver. Nothing was provisioned.
|--
|--

|Implementation
|The provisioning (or deprovisioning) of individual components is running. If provisioning requires manual operations (ITSM tickets), the process is waiting till all the tickets are resolved.
|--
|Implementation is better name than provisioning - easier to understand for end-users.

|Done - Success
|Final stage - the request was successfully processed and access is running.
|--
|--

|Failed
a|Error state of the request - if any of the components failed during provisioning stage. +
Manual intervention of IGA administrator is needed. He can administratively move then the request to it's final stage - the `Done-Success` (if the intervention was successful) or Done-Failure (if not).
|IDM administrator
|The request is in provisioning stage until all components are or succesfully provisioned, or failed.

|Done - Failure
|Final stage - when the request failed and IGA administrator was not possible to resolve the failure.
|--
|The inconsistency may be present - e.g. when all but one application roles in business role were provisioned, but one not. And solution for the issue was not found.

|===

.Operation steps of the access request process
[options="header", cols="3,10,15,10,18,25,20"]
|===
|
|Actual stage
|Operation
|Target stage
|Who can perform
|What happens
|Notification

|1.
|--
|Request access
|Draft
|Requestor
|Request is created (is added to the shopping cart).
|--

|2.
|Draft
|Send for approval
|Approval
|Requestor
a|Approval cycle is started. +
Requestor can't modify the request since this moment.
a|Requestee, +
First approver

|3.
|Draft
|Delete
|--
a|Requestor, +
IDM administrator
|Request is deleted.
|--

|4.
|Approval
|Approve
a|Approval +
or +
Implementation
a|Approver, +
Approver's deputy, +
IDM administrator on behalf of the approver
a|Approval stage is approved and the approval is moved to another stage. +
If it is the end of approval, then the request is moved to Implementation stage
|Next approver

|5.
|Approval
|Reject
|Rejected
a|Approver, +
Approver's deputy, +
IDM administrator on behalf of the approver
|Request is moved to Rejected stage.
|Requestor & requestee (if there are manual operations in implementation)

|6.
|Implementation
|--
|Done-Success
|--
a|Automated step. +
Final step of the request when all provisioning tasks are finished successfully
|Requestor & requestee

|7.
|Implementation
|--
|Failed
|--
a|Automated step. +
When all provisioning tasks are finished and some of them failed, then the proces
|IGA administrator

|8.
|Failed
|Manually resolved
|Done-Success
|IGA administrator
a|Just administrative closure of request that is in error state - in case that troubleshooting was successful. +
Any technical operation must be performed independently.
|Requestor & requestee ( in case of delegated request, the requestee)

|9.
|Failed
|Manually closed
|Done-Failure
|IGA administrator
a|Just administrative closure of request that is in error state - in case that troubleshooting was NOT successful. +
Any technical operation must be performed independently.
|Requestor & requestee ( in case of delegated request, the requestee)

|===

Note: user, who pushed the button is excluded from notification
