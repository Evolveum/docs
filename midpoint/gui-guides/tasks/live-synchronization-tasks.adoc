= Live Synchronization Tasks
:page-nav-title: 'Live Synchronization'
:page-display-order: 1
:page-toc: top
:experimental:
:icons: font

*WIP*
// TODO - polish and rewrite this, it's just a copypasta from our robofriend

Live synchronization is a mechanism in midPoint that allows for near real-time detection and processing of changes on resources. Here are some key specifics about live synchronization tasks:

. Task Definition: A live synchronization task is defined within the <task> element, with specific properties to indicate it's a live sync operation.

. Activity Type: The activity type is set to liveSynchronization which distinguishes it from other types of tasks like import or reconciliation.

. Resource Configuration: It specifies the resource and object kind (e.g., account) that needs to be synchronized using <resourceObjects> element with a reference to the specific resource.

. Execution State: The task must have an executionState set to runnable.

. Scheduling: Live synchronization tasks are typically scheduled to run at regular intervals, often every few seconds or minutes. This is configured under the <schedule> section using the <recurrence>recurring</recurrence> and <interval> elements.

. Connector Support: The resource connector must support live synchronization capabilities. It should be able to efficiently detect recent changes on the resource (e.g., via change logs, timestamps).

. Token Management: Live synchronization tasks maintain a token that tracks the last processed state of the resource. This ensures only new or changed data is fetched and synchronized.

. Efficiency: Unlike reconciliation which processes all records, live sync focuses on recent changes, making it more efficient for real-time updates.

    Example Configuration:

    <task oid="7c57adc2-a857-11e7-83ac-0f212d965f5b">
        <name>HR Live Synchronization</name>
        <ownerRef oid="00000000-0000-0000-0000-000000000002"/>
        <executionState>runnable</executionState>
        <schedule>
            <recurrence>recurring</recurrence>
            <interval>10</interval>
        </schedule>
        <activity>
            <work>
                <liveSynchronization>
                    <resourceObjects>
                        <resourceRef oid="03c3ceea-78e2-11e6-954d-dfdfa9ace0cf"/>
                        <kind>account</kind>
                    </resourceObjects>
                </liveSynchronization>
            </work>
        </activity>
    </task>

        oid: Unique identifier for the task.
        name: Name of the live sync task.
        ownerRef: Reference to the owner (usually an admin user).
        executionState: Indicates that the task is runnable.
        schedule/recurrence: Specifies recurring execution.
        interval: Interval in seconds between executions.
        resourceObjects/resourceRef: Reference to the resource being synchronized.
        kind: Type of object being synchronized (e.g., account).

    Behavior:
        The task wakes up at regular intervals and checks for changes on the specified resource.
        If changes are detected, they are processed immediately.

Live synchronization is a powerful feature that ensures near real-time consistency between midPoint and connected resources, making it ideal for environments where timely updates are critical.

Resources:

** https://docs.evolveum.com/book/practical-identity-management-with-midpoint.html#05-synchronization
** https://docs.evolveum.com/midpoint/reference/master/tasks/synchronization-tasks/
** https://docs.evolveum.com/connectors/connectors/com.evolveum.polygon.connector.grouper.rest.GrouperConnector/
