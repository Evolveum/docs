= Automate target resource account creation
:page-nav-title: Automate account creation
:page-display-order: 420
:page-toc: top
:experimental:
:icons: font
:page-description: Ensure every user gets an AD account automatically by creating an inducement in the Person archetype.

At this point of your journey, your midPoint configuration can automatically generate usernames and passwords,
and source HRIS accounts are automatically synchronized into midPoint.
In the setup we use in this guide, every _Person_ should have an account in Active Directory.
However, there is no automation for that yet, so the new users you have added in the previous module do not have an AD account.
You are going to address that in this module.

== What awaits you in this module

You will configure midPoint so that every user of the _Person_ archetype automatically gets an Active Directory account.

Typically, resource provisioning is based on roles or organizations user has or belongs to.
But since you do not manage any of that in midPoint yet, you have to make use of something else:
Every HRIS user account is of the _Person_ archetype.
You will use the _Person_ archetype to _induce_ AD accounts as a *birthright* of every user imported from the HRIS.

To give users of the _Person_ archetype this birthright, you will *add a new inducement to the _Person_ archetype* that will _cause_ creation and ownership of an AD account.

[TIP]
====
Learn more about inducements, how they work and how they differ from other similar concepts in midPoint: xref:/midpoint/architecture/concepts/inducement-assignment-entitlement/[]
====

:sectnums:

== Add inducement to the Person archetype

. In [.nowrap]#+++<i class="fe fe-archetype_smooth"></i>+++ *Archetypes*# > [.nowrap]#+++<i class="fe fe-archetype_smooth"></i>+++ *All archetypes*#, open the _Person_ archetype for editing.
    ** You can filter archetypes by *Name*.
. In [.nowrap]#icon:circle[] *Inducements*# > [.nowrap]#icon:database[] *Resource*#, click [.nowrap]#+++<i class="fe fe-assignment"></i>+++ btn:[New]#.
. Select your target resource.
. Click btn:[Next: Resource object type].
. Keep the selected *Default for kind: Account* and click btn:[Next: Entitlements].
. Do not make any changes and click btn:[Next: Mappings] to continue.
. Do not add any mappings.
. Click [.nowrap]#icon:check[] btn:[Save settings]# to save the configuration.

.Active Directory account inducement in the Person archetype
image::person-archetype-ldap-inducement.webp["Active Directory account inducement in the Person archetype"]

== Let scheduled HRIS reconciliation ensure provisioning

You have added an entitlement to the _Person_ archetype ensuring all _Person_-archetype users have an AD account.

Wait until the next run of the xref:/midpoint/methodology/first-steps/automate-target-system-integration/generate-usernames-in-midpoint/#automate-importing-users-to-midpoint[scheduled HRIS reconciliation task] finishes and check the results.
The new users of the 900X series you have added in the previous module now should have their AD accounts active.
Verify that in the link:http://localhost/phpldapadmin/[AD server web UI].

.List of AD accounts including the new accounts created in HRIS
image::ldap-new-accounts-created-from-hris.webp["List of AD accounts on the AD server including the new accounts created in HRIS"]

You can also check the result when you open one of the new users in [.nowrap]#icon:male[] *Users*# > [.nowrap]#icon:male[] *Persons*# and see their [.nowrap]#icon:male[] *Projections*#.

.The new user Andreas Baker has both the HRIS and AD projections
image::person-with-HRIS-and-AD-projections.webp["The new user Andreas Baker has both the HRIS and AD projections"]

:sectnums!:

== Next steps

With the steps above completed, you have automated provisioning target resource accounts for all people you manage in midPoint.

The next step is to have all new accounts automatically assigned to the group in which all users are.

[.nowrap]#icon:arrow-right[] *xref:/midpoint/methodology/first-steps/automate-target-system-integration/automate-group-membership/[]*#