= Override usernames
:page-nav-title: Override usernames
:page-display-order: 630
:page-toc: top
:experimental:
:icons: font
:page-description: Replace automatically generated username when automation creates it offensive

Imagine a situation where the automated username generator creates a username that is inappropriate.
That can happen because the generator takes the first given name letter and combines it with (a part of) the surname.
The result may be or resemble an insulting or offensive word.
That is the situation you are about to face and learn handling in this module.

== What awaits you in this module

You will create a user with a "problematic" name-surname combination in the HRIS.
Once the HRIS reconciliation task synchronizes the user into midPoint, the _Person Object Template_ mapping script creates a username for the user in the `jsmith82` format.
You will promptly see that the user cannot go by the automatically generated username.
Thus, you will override it manually and see how your configuration is prepared for such an intervention.

:sectnums:

== Create new user to test with

We do not have an "inappropriate" names combination in the sample data prepared for this guide.
Thus, you need to first create a new user:

. In the link:http://localhost/hr[HRIS user interface], click btn:[Register user] in the top bar.
. Fill in the form:
    ** *First name*: _Samuel_
    ** *Surname*: _Hits_
    ** *Employee number*: _9007_
    ** *Locality*: _Fast River City_
    ** *Job*: _191#Accountant_
    ** *EmpType*: _FTE_
    ** *Status*: _In_
. Click btn:[Register user]
. Click btn:[Export users to csv file] at the bottom of the user list.

== Check the new user in midPoint

After the recurring HRIS reconciliation task runs, check the new user in midPoint.

.User Samuel Hits receives an inappropriate username generated by the mapping script
image::midpoint-inappropriate-username.webp["User Samuel Hits receives an inappropriate username generated by the mapping script"]

Obviously, this person cannot go by this username.

You can also head over to the link:http://localhost/phpldapadmin[AD resource UI] directly and check the username there.

== Fix the username manually

The fix for the situation is, in this case, surprisingly easy.
You can manually alter the username value in midPoint without fearing that midPoint will overwrite it.
That is because the mapping in the object template which generates usernames is _weak_.
It touches the attribute only if it is empty.
In no other case does it alter the value of the attribute.

[TIP]
====
Be careful to not use a username that already exists;
in such a situation, midPoint would show an error message on changes preview or saving the user.
====

. In [.nowrap]#icon:user[] *Users*# > [.nowrap]#icon:user[] *Persons*#, open the user _Samuel Hits_ for editing.
. Rewrite *Name* to, e.g., _sahits_.
. Click [.nowrap]#icon:eye[] btn:[Preview changes]# to see what will be saved to midPoint and the target system.
    ** You can see that midPoint would immediately provision the new username to the target AD resource.
+
.Preview what happens when you change the username
image::midpoint-preview-change-username.webp["Preview screen with display of what happens when you manually change the user's username"]

. Click btn:[Save] to actually make the change.
    ** You can also btn:[Continue editing] and then [.nowrap]#icon:save[] btn:[Save]# your changes in the main user profile screen.

With this done, you have successfully mitigated an HR crisis of a user having an unacceptable username.

[TIP]
====
If you ever use such an automatic username generation system in a larger organization,
we strongly advise to use an automatic system to check against a database of known offensive and inappropriate words the generator might produce.
====

:sectnums!:

== Conclusion

In this module, you have learned how to manage precarious situations when automation fails you.
The solution is not universal but throughout the course, you have learned to notice and work with mapping strengths and lifecycle states, giving you the power to efficiently solve such issues that may arise during the IGA solution deployment in your organization.

This is the last module in the First steps methodology.
We hereby congratulate you on finishing the course.