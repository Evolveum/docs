= Delete orphaned LDAP accounts
:page-nav-title: Delete orphaned LDAP accounts
:page-display-order: 250
:experimental:
:icons: font

When integrating the LDAP server into your new midPoint ecosystem, you found some accounts that are either leftovers from the past or even obviously malicious attack attempts.
Now is the time to clean such accounts from the LDAP server.
Deleting accounts is, however, not to be taken lightly.
Mistakes can happen and it is a good practice to avoid hard-deleting everything without any grace period.

In this module, you learn to:

* Disable accounts before you delete them.
* Set up delayed account deletion to provide limited grace period.

Both settings are outbound activation mappings.

* Refer to the following guide on working with activation mappings in GUI: xref:/midpoint/reference/admin-gui/resource-wizard/object-type/activation/[]
* Refer to xref:/midpoint/reference/concepts/activation/[] and xref:/midpoint/reference/concepts/activation/disable-instead-of-delete/[] for more conceptual details.

== Human errors happen. Give them a safe grace period

The first step to avoid irreversible mistakes is to disable accounts instead of deleting them right away.
The next step is to configure for how long needs midPoint to wait before actually deleting the orphaned or malicious accounts.

. In the target LDAP resource, go to [.nowrap]#icon:male[] *Accounts*#.
. Select [.nowrap]#icon:cog[] btn:[Configure]# > [.nowrap]#icon:toggle-off[] *Activation*#.
. Select the [.nowrap]#icon:arrow-right-from-bracket[] *Outbound*# tab and click [.nowrap]#icon:circle-plus[] btn:[Add outbound]#.
. In the *Activation rules* modal that appears, select *Disable instead of delete*.
. Repeat to add also the *Delayed delete*.
    ** This activation rules requires you to set the delay length.
        In production, sensible values could span between multiple days and one or two months.
        For testing, you can set it to as little as dozens of seconds.

.Outbound activation mappings for delayed delete and disable instead of delete
image::../ldap-outbound-activation-mappings-delayed-delete.webp[Outbound activation mappings for delayed delete and disable instead of delete]


